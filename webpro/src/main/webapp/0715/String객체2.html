<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../CSS/msStyle.css">
    <script>
        proc1=()=>{
            //입력
            code=prompt("주민등록번호를 입력하세요");

            yy=code.substring(0,2);
            mm=code.substring(2,4);
            dd=code.substring(4,6);

            gg=code.charAt(7);

            //비겨
            if(gg=="1" || gg=="3") gender = "남자";
            if(gg=="2" || gg=="4") gender = "여자";

            if(gg=="1" || gg=="2") year="1900"
            else if(gg=="3" || gg=="4") year="2000";

            year=parseInt(year)+parseInt(yy)

            now=new Date();
            curyear=now.getFullYear();
            age=curyear-year;

            str="주민번호: "+code.substring(0,8)+"*********<br>"
            str+=`생년월일: ${year}년 ${mm}월 ${dd}일<br>`;
            str+=`성별: ${gender}<br>`;
            str+= `나이: ${age}<br>`;
            document.getElementById('result1').innerHTML=str;
        }
        function proc2(){
            //입력-980213-1234567
            code=prompt("주민번호입력");
            //-을 제거 9802131234567(총 13자리, 12인덱스)
            input=code.replace("-","");
            console.log(code,input);

            //곱하는 수
            su="234567892345"

            sum=0;

            for(i=0; i<su.length; i++){
                sum+=input.charAt(i)*su.charAt(i)
                //sum+=input.substr(i,1)*su.substr(i,1)
            }
            res=11-(sum%11);
            // if(res==10) res=0;
            // if(res==11) res=1;
            res= res%10;

            if(res==input.charAt(12)) aa="진짜";
            else aa="가짜";
            str = `주민번호 : ${code.substr(0,8) +"******"} <br>`;
            str += aa;
      
            document.getElementById('result2').innerHTML = str;

            
        }
    </script>
</head>
<body>
    <div class = "box">
        <h3>주민등록번호를 입력 받아 생년월일과 성별을 출력하는 프로그랭을 작성하시오<br>
        입력은 prompt로 입력받는다.<br>
        예)110326-4432618 ->생일: 2011년 3월 26일, 성별: 여자, 나이: 
        </h3>
        <input type="button" value="split" onclick="proc1()">
        <div id="result1"></div>    
    </div> 
    <div class = "box">
        <h3>주민등록번호를 입력 받아 주민등록번호의 유효성을 검사하는 프로그램을 작성하시오.(ABCDEF-GHIJKLM)<br>
            A*2 + B*3 + ... + H*9 + I*2 + ... + L*5 의 총합을 구한다.<br>
            1번의 합을 11로 나눈 나머지를 구한다.<br>
            11에서 2번의 결과를 뺀다.<br>
            3번의 결과가 0~9이면 값 그대로, 10이면 0, 11이면 1로 변환<br>
            4번의 결과와 M자리의 값이 같으면 맞는 번호이다.<br>
        </h3>
        <input type="button" value="입력" onclick="proc2()">
        <div id="result2"></div>    
    </div> 
</body>
</html>